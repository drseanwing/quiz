# =============================================================================
# REdI Quiz Platform - Environment Configuration
# =============================================================================
# Copy this file to .env and fill in the values
# REQUIRED variables are marked with [REQUIRED]
# Lines starting with # are comments

# -----------------------------------------------------------------------------
# Application
# -----------------------------------------------------------------------------
NODE_ENV=production
PORT=3000
APP_NAME=REdI Quiz Platform
APP_URL=https://your-domain.com

# -----------------------------------------------------------------------------
# Database [REQUIRED]
# -----------------------------------------------------------------------------
DATABASE_URL=postgresql://redi_user:CHANGE_ME@db:5432/redi_quiz

# Postgres container credentials (used by docker-compose)
POSTGRES_USER=redi_user
POSTGRES_PASSWORD=CHANGE_ME
POSTGRES_DB=redi_quiz

# -----------------------------------------------------------------------------
# Authentication [REQUIRED]
# Generate with: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
# -----------------------------------------------------------------------------
JWT_SECRET=CHANGE_ME_GENERATE_64_BYTE_HEX
JWT_REFRESH_SECRET=CHANGE_ME_GENERATE_64_BYTE_HEX
JWT_EXPIRES_IN=1h
JWT_REFRESH_EXPIRES_IN=7d

# -----------------------------------------------------------------------------
# Password Policy
# -----------------------------------------------------------------------------
PASSWORD_MIN_LENGTH=8
PASSWORD_REQUIRE_UPPERCASE=true
PASSWORD_REQUIRE_LOWERCASE=true
PASSWORD_REQUIRE_NUMBER=true

# -----------------------------------------------------------------------------
# Account Security
# -----------------------------------------------------------------------------
MAX_LOGIN_ATTEMPTS=5
LOCKOUT_DURATION_MINUTES=15

# -----------------------------------------------------------------------------
# Email
# -----------------------------------------------------------------------------
ALLOWED_EMAIL_DOMAIN=health.qld.gov.au
POWER_AUTOMATE_EMAIL_URL=
EMAIL_REPLY_TO=redi@health.qld.gov.au
EMAIL_FROM_NAME=REdI Quiz Platform
MOCK_EMAIL=false

# -----------------------------------------------------------------------------
# File Uploads
# -----------------------------------------------------------------------------
UPLOAD_DIR=/app/uploads
MAX_FILE_SIZE=5242880
ALLOWED_FILE_TYPES=image/jpeg,image/png,image/gif,image/webp

# -----------------------------------------------------------------------------
# Logging
# -----------------------------------------------------------------------------
LOG_DIR=/app/logs
LOG_LEVEL=info

# -----------------------------------------------------------------------------
# Rate Limiting
# -----------------------------------------------------------------------------
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5

# -----------------------------------------------------------------------------
# CORS
# -----------------------------------------------------------------------------
CORS_ORIGIN=https://your-domain.com
CORS_CREDENTIALS=true

# -----------------------------------------------------------------------------
# Frontend Build Args (used by docker-compose)
# -----------------------------------------------------------------------------
VITE_API_URL=/api
VITE_APP_NAME=REdI Quiz Platform
